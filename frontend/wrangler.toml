# Cloudflare Pages - Frontend 配置
name = "news-frontend"
compatibility_date = "2024-01-01"

# 构建配置
[build]
command = "npm run build"
destination_dir = "dist"

# 环境变量
[vars]
VITE_API_URL = "https://api.your-domain.com"
VITE_R2_PUBLIC_URL = "https://media.your-domain.com"

# 生产环境
[env.production]
name = "news-frontend-prod"

[env.production.vars]
VITE_API_URL = "https://your-domain.com/api"
VITE_R2_PUBLIC_URL = "https://media.your-domain.com"

# 路由规则
[[redirects]]
from = "/api/*"
to = "/api/:splat"
status = 200

[[headers]]
for = "/*"
[headers.values]
X-Frame-Options = "DENY"
X-Content-Type-Options = "nosniff"
Referrer-Policy = "strict-origin-when-cross-origin"
