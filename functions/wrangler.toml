# Cloudflare Functions - Backend API
name = "news-api"
main = "api/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# D1 数据库
[[d1_databases]]
binding = "DB"
database_name = "news-db"
database_id = ""

# R2 存储桶
[[r2_buckets]]
binding = "MEDIA_BUCKET"
bucket_name = "news-media"

# 环境变量
[vars]
ENVIRONMENT = "production"
R2_PUBLIC_URL = "https://media.news-hub.workers.dev"

# 路由
[[routes]]
pattern = "api.news-hub.workers.dev/*"
custom_domain = true
